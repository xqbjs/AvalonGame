# Default configuration for Avalon game
# This file contains default settings that can be inherited by other config files

# Default role configuration
# Used for roles not configured in roles, or as default values for optional parameters in roles
default_role:
  trainable: false
  act_by_user: false
  model:
    url: "YOUR_BASE_URL" 
    api_key: "YOUR_API_KEY" 
    model_name: qwen-plus
    # model_name: qwen3-30b-a3b-instruct-2507
    temperature: 0.7
    max_tokens: 2048
    stream: false
  agent:
    type: ThinkingReActAgent
    kwargs: null

# Default game configuration
game:
  name: avalon
  num_players: 5
  language: en # en: English, cn: Chinese
  log_dir: games/logs
  roles_name:
    - Merlin
    - Percival
    - Servant
    - Morgana
    - Assassin

# Role-specific configuration (empty by default, can be overridden in child configs)
#
# Configuration Priority:
#   1. Role-specific settings in 'roles' section (if specified)
#   2. Default settings in 'default_role' section
#
# Role Configuration Structure:
#   Each role can have 'model' and 'agent' sub-sections:
#     model: Model configuration (see create_model_from_config)
#     agent: Agent configuration with type and kwargs
#
#   Agent Configuration (agent):
#     Use agent to specify agent type and all components (memory, formatter, etc.)
#     This makes it easy to customize agents by only modifying config files.
#
#     Structure:
#       agent:
#         type: AgentClass  # Required. Can be:
#                           #   - Short form: "ThinkingReActAgent" (from games.agents)
#                           #   - Full path: "games.agents.thinking_react_agent.ThinkingReActAgent"
#                           #   - Custom: "your_module.YourAgentClass"
#         kwargs:           # Agent constructor arguments
#           sys_prompt: ""  # System prompt (optional, defaults to "")
#           memory:         # Memory configuration (optional, defaults to InMemoryMemory)
#             type: InMemoryMemory
#             kwargs: {}
#           formatter:      # Formatter configuration (optional, defaults to SecureMultiAgentFormatter)
#             type: SecureMultiAgentFormatter
#             kwargs:
#               max_tokens: 1000
#               preserved_agent_names: ["Moderator"]
#           toolkit:        # Toolkit configuration (optional, defaults to Toolkit)
#             type: Toolkit
#             kwargs: {}
#           # Note: 'name' should NOT be in kwargs, it will be set automatically based on player_id
#
#   Examples:
#     # Example 1: Role with custom model and agent
#     merlin:
#       model:
#         model_name: qwen2.5-32b-instruct
#         temperature: 0.7
#       agent:
#         type: ThinkingReActAgent
#         kwargs:
#           sys_prompt: "You are Merlin, a good character..."
#           memory:
#             type: InMemoryMemory
#             kwargs: {}
#           formatter:
#             type: SecureMultiAgentFormatter
#             kwargs:
#               max_tokens: 1000
#               preserved_agent_names: ["Moderator"]
#
#     # Example 2: Role with custom agent, default model
#     servant_0:
#       agent:
#         type: ThinkingReActAgent
#         kwargs:
#           sys_prompt: "You are a servant..."
#
#     # Example 3: Role with local VLLM server
#     servant_1:
#       model:
#         url: http://localhost:8000/v1  # VLLM server URL
#         model_name: local_model
#       agent:
#         type: YourCustomAgent
#         kwargs:
#           sys_prompt: ""
#           memory:
#             type: SlidingWindowMemory  # Custom memory
#             kwargs: {}
#
#     # Example 4: Role with minimal config (inherits all defaults)
#     minion:
#       model:
#         model_name: qwen-max

roles:
  # Example 1: Role with custom model (uses default agent)
  # merlin:
  #   model:
  #     model_name: qwen2.5-32b-instruct
  #     # temperature: 0.7  # Optional, uses default_role.model configuration

  # Example 2: Role with custom agent, default model
  # servant_0:
  #   agent:
  #     type: ThinkingReActAgent
  #     kwargs:
  #       sys_prompt: "You are a servant..."

  # Example 3: Role with local VLLM server
  # servant_1:
  #   model:
  #     url: http://localhost:8000/v1  # VLLM server URL (start with: python games/evaluation/start_vllm.py --model-path /path/to/model)
  #     model_name: local_model  # Model name served by VLLM (must match --model-name in start_vllm.py)
  #   agent:
  #     type: YourCustomAgent
  #     kwargs:
  #       sys_prompt: ""

  # Example 4: Role with minimal config (inherits all defaults)
  # minion:
  #   model:
  #     model_name: qwen-max
